---
title: '[shokax]log_4 [踩坑]本地图片部署后显示异常'
date: 2024-03-29 14:38:29
sticky: false
tags: [log]
categories: 
- [shokax,shokaXlog]
cover: https://ooo.0x0.ooo/2024/03/29/OgXjXP.png
---

# Intro
在我尝试将[[CS61B_SP21]Week3_report](https://cypressen.github.io/CS/CS61B/CS61B-SP21-Week3-report)部署到github上，发现最后网站上的所有本地图片（头像、文章内引用的本地图片等等）全部无法显示。  
当我在本地将该篇md移出文件夹的时候再部署，却发现本地图片又能正常显示。  
于是乎我花了大概3个小时，才明白这到底是怎么一回事。  

直接跳转到结论[思考直接原因](#思考直接原因)

# Experience
## repo快要满了吗？
我首先想的是库的大小是不是已经超过了限制。因为在我不选择添加新的文章的时候能正常显示图片。

> 目前我对github的工作还是很陌生的  

所以我在网上查找了"如何知道库的大小" "如何给库瘦身"  
但搜索出来的方法一是我看的迷糊，二是我不敢做。  
但我还是尝试了一个多小时。在了解我的库大小还绰绰有余的时候我开始怀疑问题不在这。

## 是hexo的问题？
但我依旧没有跳出`大小`的问题，先是关联了hexo再搜索关于大小的问题，再是检查图片资源的路径问题。  
在这又费了部分时间。  

不过好在，这里我思考了路径的问题。

## 思考直接原因
在频繁试错后我破防了，破防后才知道冷静思考。

图片显示不出来，在html上的体现就是图片的链接有问题，于是我在库中去找到文章的index.html  
![](/pic/shokax/log_4/1.png)
可以看到图片的格式是`.webp`，于是我在库中找到对应目录，发现并没有`.webp`的图片，仅有`.png`的图片。  
![](/pic/shokax/log_4/2.png)
至此，我恍然大悟。  
问题果真不在大小，在于图片链接错误。  
所以，链接的格式为什么会是`.webp` 而不是`.png`呢？  
我突然想到，在`_config.yml`文件下有个自动将图片处理成`.webp`格式的配置
![](/pic/shokax/log_4/3.png)  
我将`enable: true`配置为`false`的时候，最后所有图片能在网站上正常显示了。  
花了近3个小时，问题竟在这长度不达20的字符串中。  

最后在官方给的配置教程中发现了这么一句话。  
![](/pic/shokax/log_4/4.png)  
也就是，要使用两次`hexo g`才能将图片转化成`webp`格式。而在平时我自然地只是用一次`hexo g`。

>  至于为什么要用`webp`，使用`webp`可以使图片资源加载更快

结案了。

> 至于为什么在我移除新添的文件后能够正常显示图片，那是因为我在移除之后我习惯性地又一次`hexo g`了，这时候就成功自动webp化了